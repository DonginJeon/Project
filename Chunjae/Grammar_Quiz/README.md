# 요약

- 텍스트 분석을 통하여 한국어 문법 퀴즈를 생성하는 코드입니다. 한국어로 된 문장을 입력해주면 그 문장에서 형태소를 분석하여 품사를 물어보는 방식의 퀴즈입니다. 총 10문제로 구성되어 있고 문제를 다 풀었을 시 점수를 알 수 있습니다. 10문제를 다 해결할 시 추가학습에 대한 질문을 하는데 문제에 출제되었던 품사에 한해 노래가사를 형태소 분리하여 출제된 품사가 몇번 등장하는지 질문하는 문제를 풀 수 있습니다. 점수, 학생 정보, 정오답 여부는 data_logs.db라는 데이터베이스에 자동으로 저장됩니다. 예시 문장은 GPT-4o를 통하여 100문장 생성하였고 data.py에 리스트 형태로 넣었습니다. 노래 가사는 임의로 제작하여 lyrics.py에 넣었습니다. 이렇게 저장된 문장들은 OKT를 통해 구문분석을 하여 변수에 저장되고 if문을 통하여 분리된 단어랑 품사 이름을 매칭하여 랜덤하게 10문제 출제하는 방식입니다. 후에 추가학습으로 나오는 가사를 통해 품사의 개수를 세는 것 역시 같은 방법으로 구현하였습니다.

# 사용 패키지

```
konlpy
random
sqlite3
os
```

# FILES

- main.py : 문제 생성 파일입니다. 실행을 하시면 문제가 생성됩니다.
- data.py : 문제에 사용될 텍스트가 모여있는 파일입니다.
- manage.py : 관리자가 텍스트를 추가하는 파일입니다. 직접 입력, 폴더에 넣은 채로 추가하는 2가지 방식으로 구성하였습니다.
- question_model.py : 모델 코드입니다.
- quiz_brain.py : 생성에 필요한 함수가 구현되어 있는 파일입니다.
- README.md : 설명 파일입니다.
- test.ipynb : 저장된 DB를 조회할 수 있는 코드입니다. 실행하면 DB 내용을 볼 수 있습니다.
- lyrics.py : 추가학습에 이용할 가사 텍스트가 모여있는 파일입니다.
- quiz_logs.db : 문제를 푼 기록이 사용자 정보와 담겨있는 DB입니다.
- add_sentences : 추가할 문장을 텍스트 파일 형태로 모아놓는 폴더입니다.
- art.py : 아스키2로 구현한 QUIZ 대문 그림입니다.
- introduction.pdf : 설명서입니다.

# Introduction

- konlpy가 설치되어 있어야 원활하게 코드가 작동합니다.

  - cmd 창에 `pip install konlpy` 코드를 입력해주세요

  - [설치링크](https://konlpy.org/ko/latest/install/)

- 실행 시 터미널 경로를 해당 파일들이 들어있는 폴더로 해주세요

  - ex. C:\Users\user\Desktop\실습과제\_전동인> 이런식으로 보이면 됩니다.
  - 터미널 창에서 cd 파일이 들어있는 경로를 입력하면 경로 지정이 됩니다.

- main.py을 실행하면 이름, 학년을 입력하고 난이도를 지정하면 문제가 제시됩니다. 총 10문제가 출제되고 다 풀면 프로그램이 종료됩니다. 문제를 푼 기록은 DB에 저장됩니다. 관리자는 manage.py를 통해 데이터를 직접 입력할 수도 있고 대량의 데이터를 텍스트 파일에 저장하여 추가할 수 있습니다.(텍스트 파일로 저장시 온점 단위로 한 문장씩 인식하여 저장됩니다.)

- 정답은 품사를 포함해서 명사입니다. 명사요 등으로 작성해도 가능합니다. 품사는 오타가 나면 오답으로 처리됩니다.

- 문제를 다 해결하면 추가학습을 할 건지 물어보는데 문제에서 출제되었던 품사에 대해 노래가사에서 몇개가 등장하는지 맞추는 문제가 있습니다.

# quiz_logs Table Schema

| Column Name    | Python Data Type | Description                              |
| -------------- | ---------------- | ---------------------------------------- |
| id             | `int`            | Primary key, auto-incrementing           |
| user_id        | `str`            | 학생이름 - 학년 (e.g., "전동인 - 3학년") |
| question_text  | `str`            | 문제 텍스트                              |
| user_answer    | `str`            | 학생이 선택한 답                         |
| correct_answer | `str`            | 실제 정답                                |
| is_correct     | `bool`           | 정오답여부 (정답 - 1, 오답 - 0)          |
| time_taken     | `float`          | 소요된 시간 (초단위)                     |
| solved_at      | `datetime`       | 응답이 완료된 시간                       |
